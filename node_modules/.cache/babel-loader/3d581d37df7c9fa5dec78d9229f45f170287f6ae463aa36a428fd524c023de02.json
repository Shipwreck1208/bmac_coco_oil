{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/React/bmac_coco_oil/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/xampp/htdocs/React/bmac_coco_oil/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/xampp/htdocs/React/bmac_coco_oil/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Admin=function Admin(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUser=_useState2[1];useEffect(function(){getUsers();},[]);var getUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:5000/users\");case 2:response=_context.sent;setUser(response.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function getUsers(){return _ref.apply(this,arguments);};}();var deleteUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"http://localhost:5000/users/\".concat(id));case 3:getUsers();_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 9:case\"end\":return _context2.stop();}},_callee2,null,[[0,6]]);}));return function deleteUser(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"columns mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"column is-half\",children:[/*#__PURE__*/_jsx(Link,{to:\"/add\",className:\"button is-success\",children:\"Place an Order\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"button is-success\",children:\"Home\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Number of Records: #\"})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table is-striped is-fullwidth mt-2\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gender\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.phone}),/*#__PURE__*/_jsx(\"td\",{children:user.status}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/edit/\".concat(user._id),className:\"button is-info is-small mr-1\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteUser(user._id);},className:\"button is-danger is-small\",children:\"Delete\"})]})]},user._id);})})]})]})});};export default Admin;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","Admin","_useState","_useState2","_slicedToArray","users","setUser","getUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","data","stop","apply","arguments","deleteUser","_ref2","_callee2","id","_callee2$","_context2","delete","concat","t0","console","log","_x","className","children","to","map","user","index","name","phone","status","_id","onClick"],"sources":["C:/xampp/htdocs/React/bmac_coco_oil/src/components/Admin.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n \r\nconst Admin = () => {\r\n  const [users, setUser] = useState([]);\r\n \r\n  useEffect(() => {\r\n    getUsers();\r\n  }, []);\r\n \r\n  const getUsers = async () => {\r\n    const response = await axios.get(\"http://localhost:5000/users\");\r\n    setUser(response.data);\r\n  };\r\n \r\n  const deleteUser = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/users/${id}`);\r\n      getUsers();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  \r\n \r\n  return (\r\n    <div className=\"columns mt-5\">\r\n      <div className=\"column is-half\">\r\n        <Link to=\"/add\" className=\"button is-success\">\r\n          Place an Order\r\n        </Link>\r\n        <Link to=\"/\" className=\"button is-success\">\r\n          Home\r\n        </Link>\r\n        <div>\r\n          <p>Number of Records: #</p>\r\n        </div>\r\n        <table className=\"table is-striped is-fullwidth mt-2\">\r\n          <thead>\r\n            <tr>\r\n              <th>No</th>\r\n              <th>Name</th>\r\n              <th>Email</th>\r\n              <th>Gender</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {users.map((user, index) => (\r\n              <tr key={user._id}>\r\n                <td>{index + 1}</td>\r\n                <td>{user.name}</td>\r\n                <td>{user.phone}</td>\r\n                <td>{user.status}</td>\r\n                <td>\r\n                  <Link\r\n                    to={`/edit/${user._id}`}\r\n                    className=\"button is-info is-small mr-1\"\r\n                  >\r\n                    Edit\r\n                  </Link>\r\n                  <button\r\n                    onClick={() => deleteUser(user._id)}\r\n                    className=\"button is-danger is-small\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n \r\nexport default Admin;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}